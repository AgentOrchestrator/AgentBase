# =============================================================================
# Remote Environment Configuration (Supabase)
# =============================================================================
# This configuration uses Supabase for cloud storage and team collaboration.
# Requires a Supabase project (local or remote).
#
# Quick Start:
#   cp .env.remote.example .env
#   # Configure your Supabase credentials below
#   npm install && npm run dev
# =============================================================================

# =============================================================================
# Storage Mode
# =============================================================================
# Set to 'true' to use Supabase for storage
USE_SUPABASE=true

# =============================================================================
# Supabase Configuration
# =============================================================================
# Understanding the Three Supabase URL Variables:
# ------------------------------------------------
# SUPABASE_URL:         Base URL - used by non-Docker services and as fallback
# SUPABASE_SERVER_URL:  Used by Docker containers for server-side connections
# SUPABASE_CLIENT_URL:  Used by browser JavaScript in web interface (optional)

# ┌─────────────────────────────────────────────────────────────────────────┐
# │ OPTION A: Local Supabase (recommended for development)                  │
# └─────────────────────────────────────────────────────────────────────────┘
# 1. Install Supabase CLI:
#    macOS:  brew install supabase/tap/supabase
#    Linux:  curl -fsSL https://supabase.com/install.sh | sh
#
# 2. Start Supabase (runs full stack: Kong, GoTrue, Storage, etc.):
#    supabase start
#
# 3. Get your credentials:
#    supabase status
#
# 4. Use these values:
SUPABASE_URL=http://127.0.0.1:54321
# Your local supabase anon key -- run: supabase status -o env
SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZS1kZW1vIiwicm9sZSI6ImFub24iLCJleHAiOjE5ODM4MTI5OTZ9.CRXP1A7WOeoJeXxjNni43kdQwgnWNReilDMblYTn_I0
# For Docker: Use host.docker.internal so containers can reach your local Supabase
SUPABASE_SERVER_URL=http://host.docker.internal:54321
# For Browser: Use localhost so your browser can reach local Supabase
SUPABASE_CLIENT_URL=http://localhost:54321

# ┌─────────────────────────────────────────────────────────────────────────┐
# │ OPTION B: Remote Supabase (for production/team collaboration)           │
# └─────────────────────────────────────────────────────────────────────────┘
# 1. Create a project at https://supabase.com
# 2. Get credentials from Project Settings → API
# 3. Use the SAME URL for all three variables (remote is accessible from everywhere)
# 4. Uncomment and update these values:
#
# SUPABASE_URL=https://your-project-id.supabase.co
# SUPABASE_ANON_KEY=your-actual-anon-key-from-supabase-dashboard
# SUPABASE_SERVER_URL=https://your-project-id.supabase.co
# SUPABASE_CLIENT_URL=https://your-project-id.supabase.co

# =============================================================================
# OPTIONAL: OpenAI (for AI summaries)
# =============================================================================
# If not set, the daemon will use a simplified fallback mechanism
OPENAI_API_KEY=

# Development mode uses fallback summarization instead of OpenAI API
# Set to 'false' for production with real OpenAI summaries
DEVELOPMENT=true

# =============================================================================
# AI Assistant Data Paths (Choose your OS)
# =============================================================================
# macOS (default):
CURSOR_PATH=${HOME}/Library/Application Support/Cursor
VSCODE_PATH=${HOME}/Library/Application Support/Code

# Linux (uncomment these and comment out macOS paths):
# CURSOR_PATH=${HOME}/.config/Cursor
# VSCODE_PATH=${HOME}/.config/Code

# Common paths (all platforms):
CLAUDE_CODE_PATH=${HOME}/.claude
CODEX_PATH=${HOME}/.codex
FACTORY_PATH=${HOME}/.factory

# =============================================================================
# Daemon Settings
# =============================================================================
# How often to check for new session data (in milliseconds)
# Default: 600000 (10 minutes)
PERIODIC_SYNC_INTERVAL_MS=600000

# How far back to look for sessions when processing (in days)
# Default: 30 (1 month)
SESSION_LOOKBACK_DAYS=30

# Logging level: DEBUG, INFO, WARN, ERROR
LOG_LEVEL=INFO
